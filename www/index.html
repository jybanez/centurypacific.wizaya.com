<!DOCTYPE html>
<html>
    <head>
    	<meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, height=device-height, viewport-fit=cover">
        <meta http-equiv="Content-Security-Policy" content="
        	default-src * file: filesystem: cdvfile: https: http: gap: data: blob:; 
        	media-src  * file: filesystem: cdvfile: https: http: gap: 'unsafe-inline' data: blob: ;  
        	script-src  * file: filesystem: cdvfile: https: http: gap: 'unsafe-inline' 'unsafe-eval' ; 
        	style-src  * file: filesystem: cdvfile: https: http: gap: 'unsafe-inline' 'unsafe-eval' 
        " /> 
        <title>Project Titan</title>
		<!--
        <script type="text/javascript" src="js/mootools.js"></script>
        <script type="text/javascript" src="js/mootools.helper.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/app.interface.js"></script>
        <script type="text/javascript" src="js/app.filesystem.js"></script>
        <script type="text/javascript" src="js/app.localizer.js"></script>
        -->
        <link rel="stylesheet" href="/css/styles.css"/>
        <link rel="stylesheet" href="/includes/css/font-awesome.min.css"/>
        <link rel="stylesheet" href="/includes/css/realty.css"/>
        <link rel="stylesheet" href="/includes/css/styles.css" />
        <link rel="stylesheet" href="/includes/css/common.css" />
        <link rel="stylesheet" href='/components/com_shop/assets/css/common.css' />
        <link rel="stylesheet" href='/components/com_shop/assets/css/travelcon.css' />
        <link rel="stylesheet" href='/templates/v1/css/common.css' />
        <link rel="stylesheet" href='/templates/shop/css/common.css' />
        <script type="text/javascript">        
        	console.log('Waiting for device to get ready...');
        	document.addEventListener('deviceready', function(){
        		var endPoint = 'https://centurypacific.wizaya.com/wizaya.appx';
				var scripts = [	
					'js/mootools.js',
					'js/mootools.helper.js',
					'js/app.js',
					'js/app.interface.js',
					'js/app.filesystem.js',
					'js/app.localizer.js',
					'includes/js/common.js',
					'components/com_shop/assets/js/common.js',					
					'components/com_shop/assets/js/common.inputs.js',
					'components/com_shop/assets/js/app.store.js',
					'components/com_shop/assets/js/client.js',
					'components/com_shop/assets/js/extra.js',
					'templates/shop/js/common.js',
					'components/com_engine/assets/js/common.js'
				];
				function loadScripts(scripts,onComplete){
					if (scripts.length){
						var script = scripts.shift();
						console.log('Loading script '+script);
						var head = document.getElementsByTagName('head')[0];
						var el = document.createElement('script');
						el.type = 'text/javascript';
						el.onload = function(){
							console.log(script+' loaded.');
							loadScripts(scripts,onComplete);
						};
						el.src = script;
						head.appendChild(el);
					} else {
						onComplete();
					}
				}
				console.log('Loading scripts...');
				loadScripts(scripts,function(){
					console.log('Connecting to '+endpoint);
					window.$app = new App.Loader(endPoint);	
				});
    		}, false); 
        </script>
        
    </head>
    <body class="wizaya fullHeight overflow hidden empty">
    	<div class="splash poster">
    		<div class="header">{header}</div>
    		<div class="container">
    			<div class="content">
    				<div>
    					<div class="logo"></div>	
    				</div>
	    			<div>
	    				<div class="spinner"></div>
	    			</div>
	    			<div>
	    				<div class="message">{message}</div>
	    			</div>
	    		</div>
    		</div>
    		<div class="footer">
    			<div class="content">
    				<div class="connection">{connection}</div>
    				<div class="version">{version}</div>	
    			</div>    			
    		</div>
    	</div>
    	<div class="offline poster">
    		<div class="container">
				<div class="content">
					<div class="logo">
						<div class="icon">
							
						</div>
					</div>
					<div class="message">{message}</div>	
					<div class="controls">
						<button>Try Again</button>
					</div>
				</div>	
			</div>
    	</div>
    	<script type="text/javascript" src="cordova.js"></script>
    </body>
</html>